# img-watermarking-test

Данный проект предназначен для тестирования методов маркирования изображений.

Пример можно найти в `im_test/main.py`

На текущий момент результаты сохнраняются в json файлы.

Пример того как выглядят результаты тестирования находятся в `test_results`:

-   `test_results/diffusiondb_filtered__dft600` - директория с результатами для алгоритма _dft600_ алгоритма на датасете _diffusiondb_filtered_
-   `test_results/diffusiondb_filtered__dft600/meta.json` - файл с мета-информацией для конкретного теста. Сейчас тут перечислен порядок аугментаций.
-   `test_results/diffusiondb_filtered__dft600/jsons/0.png.json` - пример файла результата для одного изображения. Для каждого изображения из датасета будет создан соответствующий файл. Что туда записывается:
    -   `embedded` - встроилась ли метка в изображение
    -   `psnr` - PSNR между оригинальным изображением и встроенным
    -   `extracted` - список метрик извлекаемости для каждой аугментации в том же порядке, в котором они указаны в файле `meta.json`

# TODO

-   Экспорт результатов в Datalens
-   Придумать какие метрики считать, учитывая, что для разных методов могут считаться разные метрики
    -   Идея 1: инкапсулировать метрики в метод маркирования
